<!DOCTYPE html>
<html lang="ja">
<head>
    {% load static %}
    <meta charset="utf-8">
    <title>StarTweet</title>
    <meta name="description" content="StarTweet Twitter application that pursues simplicity and efficiency">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="{% static 'timeline/images/logo.png' %}">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- mine -->
    <link rel="stylesheet" href="{% static 'timeline/style.css' %}">
    <script src="{% static 'timeline/script.js' %}"></script>
</head>

<body>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col col-lg-5">
                {% for tweet in home %}
                <div class="card m-2">
                    <div class="card-body" style="background-color: rgb(250, 250, 255);">
                        <img src={{ tweet.profile_image_url }}><br>
                        <a href="{% url 'timeline:user' tweet.author_id %}" class="card-link">{{ tweet.name }} - {{ tweet.created_at }}</a>
                        <p>{{ tweet.text | linebreaksbr }}</p>
                        <p style="text-align: right;">RT:{{ tweet.public_metrics.retweet_count }} like:{{ tweet.public_metrics.like_count }}</p>
                        <a class="btn btn-primary" href="https://twitter.com/user/status/{{ tweet.id }}" target="_blank" rel="noopener noreferrer">view</a>
                        {% for media_url in tweet.media_url %}
                            <div class="tweet_media"><img src={{ media_url }}></div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="col col-lg-5">
                <div class="menu_logo">
                    <a href="https://coinpost.jp/" target="_blank" rel="noopener noreferrer"><img src="https://pbs.twimg.com/profile_images/1243082349845217280/KT9Kz4-a_400x400.jpg" height="100"></a>
                    <a href="https://messari.io/" target="_blank" rel="noopener noreferrer"><img src="https://pbs.twimg.com/profile_images/1574868499389882375/ZiOL_rP6_400x400.jpg" height="100"></a>
                    <a href="https://tweetdeck.twitter.com/" target="_blank" rel="noopener noreferrer"><img src="https://www.naporitansushi.com/wp-content/uploads/2022/04/tweetdeck-icon.png" height="100"></a>
                </div>
                <div class="card m-2"><a class="btn btn-primary" href="{% url 'timeline:index' %}" role="button">timeline</a></div>
                <form method="POST">
                    {% csrf_token %}
                    <div class="card m-2 mb-3">
                        <label for="exampleFormControlTextarea1" class="form-label">Tweet</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="content"></textarea>
                        <button type="submit" class="btn btn-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                            </svg>
                        </button>
                    </div>
                </form>
                {% for tweet in my_tweets %}
                <div class="card m-2">
                    <div class="card-body" style="background-color: rgb(250, 250, 255);">
                        <img src={{ tweet.profile_image_url }}><br>
                        <a href="{% url 'timeline:user' tweet.author_id %}" class="card-link">{{ tweet.name }} - {{ tweet.created_at }}</a>
                        <p>{{ tweet.text | linebreaksbr }}</p>
                        <p style="text-align: right;">RT:{{ tweet.public_metrics.retweet_count }} like:{{ tweet.public_metrics.like_count }}</p>
                        <a class="btn btn-primary" href="https://twitter.com/user/status/{{ tweet.id }}" target="_blank" rel="noopener noreferrer">view</a>
                        {% for media_url in tweet.media_url %}
                            <div class="tweet_media"><img src={{ media_url }}></div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</body>

</html>